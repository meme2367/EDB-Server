Extensible-Distraction-Blocker
=========================================

ì ê¸ˆ í”„ë¡œê·¸ë¨ì´ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ëŠ” í‹€ì„ êµ¬í˜„í•œ EDB ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ëŠ”  í”ŒëŸ¬ê·¸ì¸ í˜•íƒœì˜ ì ê¸ˆ ì •ì±… í‹€ì„ êµ¬í˜„í•˜ì—¬, ì´í›„ ì ê¸ˆ ì •ì±…ì´ë‚˜ ì™¸ë¶€ì„œë¹„ìŠ¤ í”ŒëŸ¬ê·¸ì¸ì„ ê°€ì§„ SERVICE PROVIDERê°€ ë³¸ í”„ë¡œì íŠ¸ì˜ í‹€ì— í”ŒëŸ¬ê·¸ì¸ì„ ì—°ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì´ë•Œ, REST APIë¥¼ ì´ìš©í•˜ì—¬ ìƒì„¸ ê¸°ëŠ¥ì´ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. 
[![demo](https://user-images.githubusercontent.com/29730565/110436589-c5dffb80-80f7-11eb-8d36-83fe0ed47ecf.png)](https://www.youtube.com/watch?v=181bgtHYXlE&list=PLJ4NeUbbGI9qTKbL1QIt09dM3eKHWUZhk&index=22)

<br />

## I. í”„ë¡œì íŠ¸ ê¸°ëŠ¥

í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì ê¸ˆ ì •ì±…ì˜ í™•ì¥ì´ ê°€ëŠ¥í•˜ë©°, REST APIë¥¼ í†µí•´ ì™¸ë¶€ ì„œë¹„ìŠ¤ì˜ ì—°ë™ì„ í•  ìˆ˜ ìˆëŠ” ì ê¸ˆ í”„ë¡œê·¸ë¨ì˜ êµ¬ì¡°ë¥¼ ë§ˆë ¨

## ì£¼ìš” ê¸°ëŠ¥
1. ì ê¸ˆ í”„ë¡œê·¸ë¨ì˜ ì„¤ì •ë‚´ìš©ì„ ì €ì¥, ì·¨ë“í•  ìˆ˜ ìˆëŠ” REST API ì„œë²„ ì½”ë“œ êµ¬í˜„
2. ìš”ì²­ì˜ ì „ë‹¬, ì‘ë‹µì˜ ìˆ˜ìš©ì„ í•  ìˆ˜ ìˆëŠ” ìë°” ì½”ë“œ êµ¬í˜„
3. ì ê¸ˆì •ì±…ì˜ í™•ì¥ì„ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°ì˜ ì •ì˜
4. ì§€ì •ëœ í”„ë¡œê·¸ë¨ ì¢…ë£Œë¥¼ ìœ„í•œ native code
5. ìœ„ ë‚´ìš©ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì„ì‹œ UIêµ¬í˜„

<br />


## ì‚¬ìš© ê¸°ìˆ 

- ë°±ì—”ë“œ ì‚¬ìš© ê¸°ìˆ   : node.js, mysql, docker-compose
- ë©”ì¸ì•± ì‚¬ìš© ê¸°ìˆ  : JavaFX, pf4j, JavaNativeAccess, Java, Junit, Maven

## II. íŒ€ì› ë° ì—­í• 

### ğŸ¿ ëª…ë‹¤ì—° [github](https://github.com/meme2367)

- node.js ì™€ mysql ì´ìš©í•˜ì—¬ REST API ì½”ë“œ êµ¬í˜„
- retrofitì„ ì´ìš©í•œ MAIN APPì˜ í†µì‹  ë¶€ë¶„ì½”ë“œ êµ¬í˜„
- DB êµ¬ì¶•
- docker íŒŒì¼ êµ¬í˜„
- íŒ€ì›ê³¼ í•¨ê»˜ ë©”ì¸ ì•± í´ë˜ìŠ¤ ì„¤ê³„

<br />

## III. êµ¬ì„±

### ğŸ”§ ì „ì²´ ì•„í‚¤í…ì³
![ì „ì²´ ì•„í‚¤í…ì³](https://user-images.githubusercontent.com/29730565/110437341-9da4cc80-80f8-11eb-9f9d-7a87f91b5563.png)

### ğŸ”§ ë©”ì¸ ì•± - í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜
![pluginá„€á…®á„Œá…©](https://user-images.githubusercontent.com/29730565/110437362-a4334400-80f8-11eb-80dc-7210379d6332.png)

### ğŸ”§ ë©”ì¸ ì•± - ì›¹, UI í†µì‹  ì•„í‚¤í…ì³
![á„‹á…°á†¸UIá„á…©á†¼á„‰á…µá†«á„€á…®á„Œá…©](https://user-images.githubusercontent.com/29730565/110437366-a5647100-80f8-11eb-90f8-ac9bbf72e51a.png)

### ğŸ”§ ë°±ì—”ë“œ ì•„í‚¤í…ì³
![ë°±ì—”ë“œ ì•„í‚¤í…ì³](https://user-images.githubusercontent.com/29730565/110437064-4e5e9c00-80f8-11eb-89d5-cb0ecb2bd29c.png)

### ğŸ”§ ERD
![ERD6](https://user-images.githubusercontent.com/29730565/110437049-4a327e80-80f8-11eb-81f6-5d4b2abb53f5.png)


## REST API  ë¬¸ì„œ
* [GIT WIKI Document](https://github.com/Extensible-Distraction-Blocker/EDB-Server/wiki)
* 
## ì„¤ê³„ ì˜ˆì‹œ

### í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì„¤ê³„
[í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë§í¬](https://docs.google.com/drawings/d/1cD54iutB7_D7DBgUpF2_8FyvAVPAt79rbtTkn50_9pY/edit?usp=sharing)

### ìœ ì¦ˆì¼€ì´ìŠ¤ ì„¤ê³„
![Main_System_Usecase_-_ver2](https://user-images.githubusercontent.com/29730565/110437600-e65c8580-80f8-11eb-9b80-42638a49c16a.png)

### ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì„¤ê³„ ì˜ˆì‹œ
![ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì˜ˆì‹œ](https://user-images.githubusercontent.com/29730565/110437589-e492c200-80f8-11eb-8dfe-324201c3b47e.png)


## BUILD GUIDE - docker ë°©ì‹

### 1. DOCKER ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆ ìƒì„±
run by : 
```
git clone https://github.com/Extensible-Distraction-Blocker/EDB-Server.git
docker-compose up --build -d
docker-compose start
```
í•´ë‹¹ ëª…ë ¹ì–´ë¡œ docker-containerë¥¼ ë„ìš°ê³  ì‹¤ì œ postman ì„œë¹„ìŠ¤ë¥¼ ì´ìš©ê°€ëŠ¥í•˜ë‹¤.

## BUILD GUIDE - exact ë°©ì‹

### 1. run by: 
```
git clone https://github.com/Extensible-Distraction-Blocker/EDB-Server.git
cd backend-service
npm i 

```
ì´ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ í•´ë‹¹ í”„ë¡œê·¸ë¨ì— í•„ìš”í•œ node_modules ë¼ì´ë¸ŒëŸ¬ë¦¬ í´ë”ê°€ ìƒì„±

### 2. db_config.js íŒŒì¼ ìƒì„±
```
edb-server/
	config/
		db_config.js

```
db connectionì„ ìœ„í•œ db_config.jsíŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

### db.config.js

```
const mysql = require('mysql2/promise');
const dbConfig = {
    host: 'localhost',
    port: 3306,
    user: 'username',
    database: 'flexiblelock',
    password:"databasepassword"
}

module.exports = mysql.createPool(dbConfig);

```
host,port, user,database,passwordë¥¼ ë³¸ì¸ì˜ ë°ì´í„° ë² ì´ìŠ¤ ì„¤ì •ì— ë§ê²Œ ë§ì¶˜ë‹¤.


## TEST GUIDE

### docker ë°©ì‹
1.  í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ README.mdë¥¼ í†µí•´ ë„ì»¤ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ë„ì»¤ ì»¨í…Œì´ë¥¼ ë„ìš´ë‹¤.

2. GITWIKIë¥¼ ì°¸ê³ í•˜ì—¬ postmanì„ ì´ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.
(base url : localhost:3000/api/)

### EXACT ì‹¤í–‰ ë°©ì‹
1.  í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ MYSQL ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤.(dabase-service/mysql-init-files í´ë”ë¥¼ í†µí•´ sql ëª…ë ¹ì–´ë¥¼ í™•ì¸ê°€ëŠ¥í•˜ë‹¤.)

2. GITWIKIë¥¼ ì°¸ê³ í•˜ì—¬ postmanì„ ì´ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.
(base url : localhost:3000/api/)


##  ê¸°íƒ€ - ìì£¼ ì¼ì–´ë‚˜ëŠ” ì˜¤ë¥˜

### 1. mysql port 3306ì´ ì´ë¯¸ ì‚¬ìš©ë˜ëŠ” ê²½ìš°  delete port
```
 sudo netstat -nlpt |grep 3306 

sudo service mysql stop or sudo service mysqld stop
```
### 2. api ì‹¤í–‰ì´ ì•ˆë˜ëŠ” ê²½ìš°

run by :
```
docker logs edbservercontainer
```
ë³¸ ëª…ë ¹ì–´ë¥¼ í†µí•´ apiê°€ ê°€ë™ë˜ëŠ”ì§€ ë¡œê·¸ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.

### 3. docker containerë¥¼ ì¤‘ì§€í•˜ê³  ì‹¶ì€ ê²½ìš°
run by :
```
docker-compose stop
```


### 4. mysql ì»¨í…Œì´ë„ˆ ì ‘ì† ë°©ë²•
```
docker exec -it dbcontainer /bin/bash

 mysql -h 127.0.0.1 --port 3306 -uroot

```
